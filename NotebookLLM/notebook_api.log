INFO:     Started server process [844313]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
ğŸ” Authenticating with Keycloak...
âœ… Authentication successful!
ğŸ” Authenticating with Keycloak...
âœ… Authentication successful!
INFO:     127.0.0.1:48738 - "GET /api/agent/tools HTTP/1.1" 200 OK
INFO:     127.0.0.1:48748 - "POST /api/agent/session?userId=prompt_engineering_tester HTTP/1.1" 200 OK
[AgentBridge] Reloading module: agents.mainAgent
[+] Reasoning Engine (Gemini) registered in AgentBridge
ğŸŒ‰ AgentBridge.process() called with message: 'Show me all scopes....'
ğŸŒ‰ fullMessage: 'Show me all scopes....'
[DEBUG _shadowTestNewRouter] Routing message: Show me all scopes.
[DEBUG _shadowTestNewRouter] Router returned: route=verinice_operation, handler=_handleVeriniceOp

ğŸ“Š Fetching units...
âœ… Found 1 unit(s)
   - SparksBM (ID: 4bd7d9c0-f939-4f01-adad-4324fbd059d9)
     Description: Project Test...
     Domains: ISO 27001
ğŸŒ‰ Executor returned: status=True, keys=['success', 'agent', 'result', 'executionId']
INFO:     127.0.0.1:48750 - "POST /api/agent/chat HTTP/1.1" 200 OK
ğŸŒ‰ AgentBridge.process() called with message: 'remove them all....'
ğŸŒ‰ fullMessage: 'remove them all....'
[DEBUG _shadowTestNewRouter] Routing message: remove them all.
[DEBUG _shadowTestNewRouter] Router returned: route=verinice_operation, handler=_handleVeriniceOp
ğŸŒ‰ Executor returned: status=True, keys=['success', 'agent', 'result', 'executionId']
INFO:     127.0.0.1:45184 - "POST /api/agent/chat HTTP/1.1" 200 OK
[_detectSubtypeQuery] Pattern matched but objectType 'do' not in valid types
ğŸŒ‰ AgentBridge.process() called with message: 'how many subtype do we have for scope in our isms....'
ğŸŒ‰ fullMessage: 'how many subtype do we have for scope in our isms....'
[DEBUG _shadowTestNewRouter] Routing message: how many subtype do we have for scope in our isms.
[DEBUG _shadowTestNewRouter] Router returned: route=verinice_operation, handler=_handleVeriniceOp
ğŸŒ‰ Executor returned: status=True, keys=['success', 'agent', 'result', 'executionId']
INFO:     127.0.0.1:45196 - "POST /api/agent/chat HTTP/1.1" 200 OK
ğŸŒ‰ AgentBridge.process() called with message: 'Create 3 scopes in our isms and give the scopes na...'
ğŸŒ‰ fullMessage: 'Create 3 scopes in our isms and give the scopes name (SCOPE-A,SCOPE-B,and SCOPE-...'
[DEBUG _shadowTestNewRouter] Routing message: Create 3 scopes in our isms and give the scopes name (SCOPE-A,SCOPE-B,and SCOPE-
[DEBUG _shadowTestNewRouter] Router returned: route=verinice_operation, handler=_handleVeriniceOp

ğŸ—ï¸  Creating scope: SCOPE-A
   Domain: 2df802d2-a564-4779-9d18-f6e9ed584890
   Unit: 4bd7d9c0-f939-4f01-adad-4324fbd059d9
   SubType: SCP_Scope
   Status: NEW
âœ… Successfully created scope: SCOPE-A
   Object ID: d41bd2eb-7c90-4b40-b8ab-bc4962fbd8bf

ğŸ—ï¸  Creating scope: SCOPE-B
   Domain: 2df802d2-a564-4779-9d18-f6e9ed584890
   Unit: 4bd7d9c0-f939-4f01-adad-4324fbd059d9
   SubType: SCP_Scope
   Status: NEW
âœ… Successfully created scope: SCOPE-B
   Object ID: 741b74c3-ac7e-4bc3-9e56-39df114f62cf

ğŸ—ï¸  Creating scope: SCOPE-C
   Domain: 2df802d2-a564-4779-9d18-f6e9ed584890
   Unit: 4bd7d9c0-f939-4f01-adad-4324fbd059d9
   SubType: SCP_Scope
   Status: NEW
âœ… Successfully created scope: SCOPE-C
   Object ID: 40d13e40-beac-4095-9284-0f2600aa916a
ğŸŒ‰ Executor returned: status=True, keys=['success', 'agent', 'result', 'executionId']
INFO:     127.0.0.1:45200 - "POST /api/agent/chat HTTP/1.1" 200 OK
ğŸŒ‰ AgentBridge.process() called with message: 'Create 5 scopes in our isms and give the scopes na...'
ğŸŒ‰ fullMessage: 'Create 5 scopes in our isms and give the scopes name (SCOPE-A,SCOPE-B,and SCOPE-...'
[DEBUG _shadowTestNewRouter] Routing message: Create 5 scopes in our isms and give the scopes name (SCOPE-A,SCOPE-B,and SCOPE-
[DEBUG _shadowTestNewRouter] Router returned: route=verinice_operation, handler=_handleVeriniceOp

ğŸ—ï¸  Creating scope: SCOPE-A
   Domain: 2df802d2-a564-4779-9d18-f6e9ed584890
   Unit: 4bd7d9c0-f939-4f01-adad-4324fbd059d9
   SubType: SCP_Scope
   Status: NEW
âœ… Successfully created scope: SCOPE-A
   Object ID: 7ab8b2a3-c6f3-4078-83b5-731d60a2608a

ğŸ—ï¸  Creating scope: SCOPE-B
   Domain: 2df802d2-a564-4779-9d18-f6e9ed584890
   Unit: 4bd7d9c0-f939-4f01-adad-4324fbd059d9
   SubType: SCP_Scope
   Status: NEW
âœ… Successfully created scope: SCOPE-B
   Object ID: 302ffc5d-b81a-4563-9d0b-0cb7d28141eb

ğŸ—ï¸  Creating scope: SCOPE-C
   Domain: 2df802d2-a564-4779-9d18-f6e9ed584890
   Unit: 4bd7d9c0-f939-4f01-adad-4324fbd059d9
   SubType: SCP_Scope
   Status: NEW
âœ… Successfully created scope: SCOPE-C
   Object ID: 2516fb70-b53b-41b6-b410-29137400fa36

ğŸ—ï¸  Creating scope: Scope-04
   Domain: 2df802d2-a564-4779-9d18-f6e9ed584890
   Unit: 4bd7d9c0-f939-4f01-adad-4324fbd059d9
   SubType: SCP_Scope
   Status: NEW
âœ… Successfully created scope: Scope-04
   Object ID: ce3f8321-f07d-4460-8ef7-8f527d18955d

ğŸ—ï¸  Creating scope: Scope-05
   Domain: 2df802d2-a564-4779-9d18-f6e9ed584890
   Unit: 4bd7d9c0-f939-4f01-adad-4324fbd059d9
   SubType: SCP_Scope
   Status: NEW
âœ… Successfully created scope: Scope-05
   Object ID: 2688314d-0f7c-43f1-8435-1782670ee444
ğŸŒ‰ Executor returned: status=True, keys=['success', 'agent', 'result', 'executionId']
INFO:     127.0.0.1:45208 - "POST /api/agent/chat HTTP/1.1" 200 OK
ğŸŒ‰ AgentBridge.process() called with message: 'How many scopes?...'
ğŸŒ‰ fullMessage: 'How many scopes?...'
[DEBUG _shadowTestNewRouter] Routing message: How many scopes?
[DEBUG _shadowTestNewRouter] Router returned: route=verinice_operation, handler=_handleVeriniceOp
ğŸŒ‰ Executor returned: status=True, keys=['success', 'agent', 'result', 'executionId']
INFO:     127.0.0.1:41184 - "POST /api/agent/chat HTTP/1.1" 200 OK
[_detectSubtypeQuery] Pattern matched but objectType 'do' not in valid types
ğŸŒ‰ AgentBridge.process() called with message: 'how many subtype do we have for assets in our isms...'
ğŸŒ‰ fullMessage: 'how many subtype do we have for assets in our isms....'
[DEBUG _shadowTestNewRouter] Routing message: how many subtype do we have for assets in our isms.
[DEBUG _shadowTestNewRouter] Router returned: route=verinice_operation, handler=_handleVeriniceOp
ğŸŒ‰ Executor returned: status=True, keys=['success', 'agent', 'result', 'executionId']
INFO:     127.0.0.1:41192 - "POST /api/agent/chat HTTP/1.1" 200 OK
ğŸŒ‰ AgentBridge.process() called with message: 'How many assets do we have in our isms and show me...'
ğŸŒ‰ fullMessage: 'How many assets do we have in our isms and show me alll asets of IT-System subty...'
[DEBUG _shadowTestNewRouter] Routing message: How many assets do we have in our isms and show me alll asets of IT-System subty
[DEBUG _shadowTestNewRouter] Router returned: route=verinice_operation, handler=_handleVeriniceOp
ğŸŒ‰ Executor returned: status=True, keys=['success', 'agent', 'result', 'executionId']
INFO:     127.0.0.1:41194 - "POST /api/agent/chat HTTP/1.1" 200 OK
ğŸŒ‰ AgentBridge.process() called with message: 'remove them all....'
ğŸŒ‰ fullMessage: 'remove them all....'
[DEBUG _shadowTestNewRouter] Routing message: remove them all.
[DEBUG _shadowTestNewRouter] Router returned: route=verinice_operation, handler=_handleVeriniceOp
ğŸŒ‰ Executor returned: status=True, keys=['success', 'agent', 'result', 'executionId']
INFO:     127.0.0.1:37854 - "POST /api/agent/chat HTTP/1.1" 200 OK
ğŸŒ‰ AgentBridge.process() called with message: 'Create 5 assets in our isms and give the asset nam...'
ğŸŒ‰ fullMessage: 'Create 5 assets in our isms and give the asset name (Asset-A,E)...'
[DEBUG _shadowTestNewRouter] Routing message: Create 5 assets in our isms and give the asset name (Asset-A,E)
[DEBUG _shadowTestNewRouter] Router returned: route=verinice_operation, handler=_handleVeriniceOp

ğŸ—ï¸  Creating asset: Asset-A
   Domain: 2df802d2-a564-4779-9d18-f6e9ed584890
   Unit: 4bd7d9c0-f939-4f01-adad-4324fbd059d9
   SubType: AST_Datatype
   Status: NEW
âœ… Successfully created asset: Asset-A
   Object ID: e15b1deb-229f-47ab-93ce-31b28bf2eecd

ğŸ—ï¸  Creating asset: Asset-B
   Domain: 2df802d2-a564-4779-9d18-f6e9ed584890
   Unit: 4bd7d9c0-f939-4f01-adad-4324fbd059d9
   SubType: AST_Datatype
   Status: NEW
âœ… Successfully created asset: Asset-B
   Object ID: 11c798fd-ce66-430c-a4d3-b81acbc6ab4f

ğŸ—ï¸  Creating asset: Asset-C
   Domain: 2df802d2-a564-4779-9d18-f6e9ed584890
   Unit: 4bd7d9c0-f939-4f01-adad-4324fbd059d9
   SubType: AST_Datatype
   Status: NEW
âœ… Successfully created asset: Asset-C
   Object ID: ceefe261-299f-41b8-ac72-c41891b5e893

ğŸ—ï¸  Creating asset: Asset-D
   Domain: 2df802d2-a564-4779-9d18-f6e9ed584890
   Unit: 4bd7d9c0-f939-4f01-adad-4324fbd059d9
   SubType: AST_Datatype
   Status: NEW
âœ… Successfully created asset: Asset-D
   Object ID: deef6793-47bc-4306-8ebf-311cbfe34833

ğŸ—ï¸  Creating asset: Asset-E
   Domain: 2df802d2-a564-4779-9d18-f6e9ed584890
   Unit: 4bd7d9c0-f939-4f01-adad-4324fbd059d9
   SubType: AST_Datatype
   Status: NEW
âœ… Successfully created asset: Asset-E
   Object ID: a2c9e974-639d-4a4d-92c8-8c8228470e22
ğŸŒ‰ Executor returned: status=True, keys=['success', 'agent', 'result', 'executionId']
INFO:     127.0.0.1:37868 - "POST /api/agent/chat HTTP/1.1" 200 OK
ğŸŒ‰ AgentBridge.process() called with message: 'Add 3 assets to our IT-System asset, and the other...'
ğŸŒ‰ fullMessage: 'Add 3 assets to our IT-System asset, and the other 2 add to the Datatypes assets...'
[DEBUG _shadowTestNewRouter] Routing message: Add 3 assets to our IT-System asset, and the other 2 add to the Datatypes assets
[DEBUG _shadowTestNewRouter] Router returned: route=verinice_operation, handler=_handleMultipleCreates
[UPDATE DEBUG] Sending PUT to: http://localhost:8070/domains/2df802d2-a564-4779-9d18-f6e9ed584890/assets/e15b1deb-229f-47ab-93ce-31b28bf2eecd
[UPDATE DEBUG] Payload keys (15): ['createdBy', 'updatedBy', 'name', 'designator', 'owner', 'subType', 'status', 'links', 'customAspects', 'decisionResults', 'parts', 'riskValues', 'controlImplementations', 'id', 'abbreviation']
[UPDATE DEBUG] Payload JSON: {
  "createdBy": "admin@sparksbm.com",
  "updatedBy": "admin@sparksbm.com",
  "name": "subType",
  "designator": "AST-613",
  "owner": {
    "targetUri": "http://localhost:8070/units/4bd7d9c0-f939-4f01-adad-4324fbd059d9"
  },
  "subType": "AST_Datatype",
  "status": "NEW",
  "links": {},
  "customAspects": {},
  "decisionResults": {},
  "parts": [],
  "riskValues": {},
  "controlImplementations": [],
  "id": "e15b1deb-229f-47ab-93ce-31b28bf2eecd",
  "abbreviation": "IT-System"
}
[UPDATE DEBUG] Response status: 200
[UPDATE DEBUG] Response: {"createdAt":"2026-01-29T14:51:45.946023Z","createdBy":"admin@sparksbm.com","updatedAt":"2026-01-29T14:51:49.333886720Z","updatedBy":"admin@sparksbm.com","name":"subType","abbreviation":"IT-System","designator":"AST-613","owner":{"displayName":"SparksBM","name":"SparksBM","id":"4bd7d9c0-f939-4f01-ad
[UPDATE DEBUG] Sending PUT to: http://localhost:8070/domains/2df802d2-a564-4779-9d18-f6e9ed584890/assets/11c798fd-ce66-430c-a4d3-b81acbc6ab4f
[UPDATE DEBUG] Payload keys (15): ['createdBy', 'updatedBy', 'name', 'designator', 'owner', 'subType', 'status', 'links', 'customAspects', 'decisionResults', 'parts', 'riskValues', 'controlImplementations', 'id', 'abbreviation']
[UPDATE DEBUG] Payload JSON: {
  "createdBy": "admin@sparksbm.com",
  "updatedBy": "admin@sparksbm.com",
  "name": "subType",
  "designator": "AST-614",
  "owner": {
    "targetUri": "http://localhost:8070/units/4bd7d9c0-f939-4f01-adad-4324fbd059d9"
  },
  "subType": "AST_Datatype",
  "status": "NEW",
  "links": {},
  "customAspects": {},
  "decisionResults": {},
  "parts": [],
  "riskValues": {},
  "controlImplementations": [],
  "id": "11c798fd-ce66-430c-a4d3-b81acbc6ab4f",
  "abbreviation": "IT-System"
}
[UPDATE DEBUG] Response status: 200
[UPDATE DEBUG] Response: {"createdAt":"2026-01-29T14:51:46.121987Z","createdBy":"admin@sparksbm.com","updatedAt":"2026-01-29T14:51:49.521921311Z","updatedBy":"admin@sparksbm.com","name":"subType","abbreviation":"IT-System","designator":"AST-614","owner":{"displayName":"SparksBM","name":"SparksBM","id":"4bd7d9c0-f939-4f01-ad
[UPDATE DEBUG] Sending PUT to: http://localhost:8070/domains/2df802d2-a564-4779-9d18-f6e9ed584890/assets/ceefe261-299f-41b8-ac72-c41891b5e893
[UPDATE DEBUG] Payload keys (15): ['createdBy', 'updatedBy', 'name', 'designator', 'owner', 'subType', 'status', 'links', 'customAspects', 'decisionResults', 'parts', 'riskValues', 'controlImplementations', 'id', 'abbreviation']
[UPDATE DEBUG] Payload JSON: {
  "createdBy": "admin@sparksbm.com",
  "updatedBy": "admin@sparksbm.com",
  "name": "subType",
  "designator": "AST-615",
  "owner": {
    "targetUri": "http://localhost:8070/units/4bd7d9c0-f939-4f01-adad-4324fbd059d9"
  },
  "subType": "AST_Datatype",
  "status": "NEW",
  "links": {},
  "customAspects": {},
  "decisionResults": {},
  "parts": [],
  "riskValues": {},
  "controlImplementations": [],
  "id": "ceefe261-299f-41b8-ac72-c41891b5e893",
  "abbreviation": "IT-System"
}
[UPDATE DEBUG] Response status: 200
[UPDATE DEBUG] Response: {"createdAt":"2026-01-29T14:51:46.286047Z","createdBy":"admin@sparksbm.com","updatedAt":"2026-01-29T14:51:49.719083798Z","updatedBy":"admin@sparksbm.com","name":"subType","abbreviation":"IT-System","designator":"AST-615","owner":{"displayName":"SparksBM","name":"SparksBM","id":"4bd7d9c0-f939-4f01-ad
[UPDATE DEBUG] Sending PUT to: http://localhost:8070/domains/2df802d2-a564-4779-9d18-f6e9ed584890/assets/deef6793-47bc-4306-8ebf-311cbfe34833
[UPDATE DEBUG] Payload keys (15): ['createdBy', 'updatedBy', 'name', 'designator', 'owner', 'subType', 'status', 'links', 'customAspects', 'decisionResults', 'parts', 'riskValues', 'controlImplementations', 'id', 'abbreviation']
[UPDATE DEBUG] Payload JSON: {
  "createdBy": "admin@sparksbm.com",
  "updatedBy": "admin@sparksbm.com",
  "name": "subType",
  "designator": "AST-616",
  "owner": {
    "targetUri": "http://localhost:8070/units/4bd7d9c0-f939-4f01-adad-4324fbd059d9"
  },
  "subType": "AST_Datatype",
  "status": "NEW",
  "links": {},
  "customAspects": {},
  "decisionResults": {},
  "parts": [],
  "riskValues": {},
  "controlImplementations": [],
  "id": "deef6793-47bc-4306-8ebf-311cbfe34833",
  "abbreviation": "Datatype"
}
[UPDATE DEBUG] Response status: 200
[UPDATE DEBUG] Response: {"createdAt":"2026-01-29T14:51:46.444402Z","createdBy":"admin@sparksbm.com","updatedAt":"2026-01-29T14:51:49.946197742Z","updatedBy":"admin@sparksbm.com","name":"subType","abbreviation":"Datatype","designator":"AST-616","owner":{"displayName":"SparksBM","name":"SparksBM","id":"4bd7d9c0-f939-4f01-ada
[UPDATE DEBUG] Sending PUT to: http://localhost:8070/domains/2df802d2-a564-4779-9d18-f6e9ed584890/assets/a2c9e974-639d-4a4d-92c8-8c8228470e22
[UPDATE DEBUG] Payload keys (15): ['createdBy', 'updatedBy', 'name', 'designator', 'owner', 'subType', 'status', 'links', 'customAspects', 'decisionResults', 'parts', 'riskValues', 'controlImplementations', 'id', 'abbreviation']
[UPDATE DEBUG] Payload JSON: {
  "createdBy": "admin@sparksbm.com",
  "updatedBy": "admin@sparksbm.com",
  "name": "subType",
  "designator": "AST-617",
  "owner": {
    "targetUri": "http://localhost:8070/units/4bd7d9c0-f939-4f01-adad-4324fbd059d9"
  },
  "subType": "AST_Datatype",
  "status": "NEW",
  "links": {},
  "customAspects": {},
  "decisionResults": {},
  "parts": [],
  "riskValues": {},
  "controlImplementations": [],
  "id": "a2c9e974-639d-4a4d-92c8-8c8228470e22",
  "abbreviation": "Datatype"
}
[UPDATE DEBUG] Response status: 200
[UPDATE DEBUG] Response: {"createdAt":"2026-01-29T14:51:46.605114Z","createdBy":"admin@sparksbm.com","updatedAt":"2026-01-29T14:51:50.091667083Z","updatedBy":"admin@sparksbm.com","name":"subType","abbreviation":"Datatype","designator":"AST-617","owner":{"displayName":"SparksBM","name":"SparksBM","id":"4bd7d9c0-f939-4f01-ada
ğŸŒ‰ Executor returned: status=True, keys=['success', 'agent', 'result', 'executionId']
INFO:     127.0.0.1:37874 - "POST /api/agent/chat HTTP/1.1" 200 OK
ğŸŒ‰ AgentBridge.process() called with message: 'show me all scopes with thier subtypes....'
ğŸŒ‰ fullMessage: 'show me all scopes with thier subtypes....'
[DEBUG _shadowTestNewRouter] Routing message: show me all scopes with thier subtypes.
[DEBUG _shadowTestNewRouter] Router returned: route=verinice_operation, handler=_handleVeriniceOp
ğŸŒ‰ Executor returned: status=True, keys=['success', 'agent', 'result', 'executionId']
INFO:     127.0.0.1:37070 - "POST /api/agent/chat HTTP/1.1" 200 OK
ğŸŒ‰ AgentBridge.process() called with message: 'link the SCOPE-B with IT-System assets , and SCOPE...'
ğŸŒ‰ fullMessage: 'link the SCOPE-B with IT-System assets , and SCOPE-D link with Datatypes assets....'
[DEBUG _shadowTestNewRouter] Routing message: link the SCOPE-B with IT-System assets , and SCOPE-D link with Datatypes assets.
[DEBUG _shadowTestNewRouter] Router returned: route=verinice_operation, handler=_handleVeriniceOp
ğŸŒ‰ Executor returned: status=False, keys=['success', 'agent', 'result', 'executionId']
INFO:     127.0.0.1:37082 - "POST /api/agent/chat HTTP/1.1" 200 OK
ğŸŒ‰ AgentBridge.process() called with message: 'Update the asset 'ASSET-A'. Change its description...'
ğŸŒ‰ fullMessage: 'Update the asset 'ASSET-A'. Change its description to 'description UPDATING' and...'
[DEBUG _shadowTestNewRouter] Routing message: Update the asset 'ASSET-A'. Change its description to 'description UPDATING' and
[DEBUG _shadowTestNewRouter] Router returned: route=verinice_operation, handler=_handleVeriniceOp

ğŸ“Š Fetching created domains...
âœ… Found 3 domain(s)
   - ISO 27001 (ID: 8b50810f-c280-4200-b2e2-4b073085e2c2)
   - DS-GVO (ID: fc682342-4fa0-4f82-bc28-e83f6d7491a7)
     Abbreviation: DS-GVO
     Description: The DS-GVO DomainTemplate....
   - ISO 27001 (ID: 2df802d2-a564-4779-9d18-f6e9ed584890)
ğŸŒ‰ Executor returned: status=False, keys=['success', 'agent', 'result', 'executionId']
INFO:     127.0.0.1:37090 - "POST /api/agent/chat HTTP/1.1" 200 OK
ğŸŒ‰ AgentBridge.process() called with message: 'Compare SCOPE-A and SCOPE-B...'
ğŸŒ‰ fullMessage: 'Compare SCOPE-A and SCOPE-B...'
[DEBUG _shadowTestNewRouter] Routing message: Compare SCOPE-A and SCOPE-B
[DEBUG _shadowTestNewRouter] Router returned: route=verinice_operation, handler=_handleVeriniceOp

ğŸ“Š Fetching units...
âœ… Found 1 unit(s)
   - SparksBM (ID: 4bd7d9c0-f939-4f01-adad-4324fbd059d9)
     Description: Project Test...
     Domains: ISO 27001
ğŸŒ‰ Executor returned: status=True, keys=['success', 'agent', 'result', 'executionId']
INFO:     127.0.0.1:53728 - "POST /api/agent/chat HTTP/1.1" 200 OK
ğŸŒ‰ AgentBridge.process() called with message: 'what are those....'
ğŸŒ‰ fullMessage: 'what are those....'
[DEBUG _shadowTestNewRouter] Routing message: what are those.
[DEBUG _shadowTestNewRouter] Router returned: route=fallback_knowledge, handler=_getFallbackAnswer
ğŸŒ‰ Executor returned: status=False, keys=['success', 'agent', 'result', 'executionId']
INFO:     127.0.0.1:53734 - "POST /api/agent/chat HTTP/1.1" 200 OK
ğŸŒ‰ AgentBridge.process() called with message: 'how many persons do we have in our system?...'
ğŸŒ‰ fullMessage: 'how many persons do we have in our system?...'
[DEBUG _shadowTestNewRouter] Routing message: how many persons do we have in our system?
[DEBUG _shadowTestNewRouter] Router returned: route=verinice_operation, handler=_handleVeriniceOp
ğŸŒ‰ Executor returned: status=True, keys=['success', 'agent', 'result', 'executionId']
INFO:     127.0.0.1:36692 - "POST /api/agent/chat HTTP/1.1" 200 OK
ğŸŒ‰ AgentBridge.process() called with message: 'remove them all....'
ğŸŒ‰ fullMessage: 'remove them all....'
[DEBUG _shadowTestNewRouter] Routing message: remove them all.
[DEBUG _shadowTestNewRouter] Router returned: route=verinice_operation, handler=_handleVeriniceOp
ğŸŒ‰ Executor returned: status=True, keys=['success', 'agent', 'result', 'executionId']
INFO:     127.0.0.1:36704 - "POST /api/agent/chat HTTP/1.1" 200 OK
ğŸŒ‰ AgentBridge.process() called with message: 'create 5 persons now and give thier names (John,An...'
ğŸŒ‰ fullMessage: 'create 5 persons now and give thier names (John,Anna,Jame,David,Eddie)....'
[DEBUG _shadowTestNewRouter] Routing message: create 5 persons now and give thier names (John,Anna,Jame,David,Eddie).
[DEBUG _shadowTestNewRouter] Router returned: route=verinice_operation, handler=_handleVeriniceOp

ğŸ—ï¸  Creating person: John
   Domain: 2df802d2-a564-4779-9d18-f6e9ed584890
   Unit: 4bd7d9c0-f939-4f01-adad-4324fbd059d9
   SubType: PER_Person
   Status: NEW
âœ… Successfully created person: John
   Object ID: 81be0ca3-bc80-4701-a1b7-18630ce80406

ğŸ—ï¸  Creating person: Anna
   Domain: 2df802d2-a564-4779-9d18-f6e9ed584890
   Unit: 4bd7d9c0-f939-4f01-adad-4324fbd059d9
   SubType: PER_Person
   Status: NEW
âœ… Successfully created person: Anna
   Object ID: e2e015dd-c314-4d07-9323-95f4ca1dc961

ğŸ—ï¸  Creating person: Jame
   Domain: 2df802d2-a564-4779-9d18-f6e9ed584890
   Unit: 4bd7d9c0-f939-4f01-adad-4324fbd059d9
   SubType: PER_Person
   Status: NEW
âœ… Successfully created person: Jame
   Object ID: 165a9445-6460-459e-b16f-214141bd06fa

ğŸ—ï¸  Creating person: David
   Domain: 2df802d2-a564-4779-9d18-f6e9ed584890
   Unit: 4bd7d9c0-f939-4f01-adad-4324fbd059d9
   SubType: PER_Person
   Status: NEW
âœ… Successfully created person: David
   Object ID: b7ac7170-ae9b-4ce6-b2a2-9271a562b03e

ğŸ—ï¸  Creating person: Eddie
   Domain: 2df802d2-a564-4779-9d18-f6e9ed584890
   Unit: 4bd7d9c0-f939-4f01-adad-4324fbd059d9
   SubType: PER_Person
   Status: NEW
âœ… Successfully created person: Eddie
   Object ID: 21ddd8fe-02fd-4b44-91c2-b970b4c667fa
ğŸŒ‰ Executor returned: status=True, keys=['success', 'agent', 'result', 'executionId']
INFO:     127.0.0.1:33046 - "POST /api/agent/chat HTTP/1.1" 200 OK
ğŸŒ‰ AgentBridge.process() called with message: 'now how many persons do we have in our system....'
ğŸŒ‰ fullMessage: 'now how many persons do we have in our system....'
[DEBUG _shadowTestNewRouter] Routing message: now how many persons do we have in our system.
[DEBUG _shadowTestNewRouter] Router returned: route=verinice_operation, handler=_handleVeriniceOp
ğŸŒ‰ Executor returned: status=True, keys=['success', 'agent', 'result', 'executionId']
INFO:     127.0.0.1:33056 - "POST /api/agent/chat HTTP/1.1" 200 OK
ğŸŒ‰ AgentBridge.process() called with message: 'add John,Anna,Eddie to DPO....'
ğŸŒ‰ fullMessage: 'add John,Anna,Eddie to DPO....'
[DEBUG _shadowTestNewRouter] Routing message: add John,Anna,Eddie to DPO.
[DEBUG _shadowTestNewRouter] Router returned: route=verinice_operation, handler=_handleVeriniceOp
[UPDATE DEBUG] Sending PUT to: http://localhost:8070/domains/2df802d2-a564-4779-9d18-f6e9ed584890/persons/81be0ca3-bc80-4701-a1b7-18630ce80406
[UPDATE DEBUG] Payload keys (13): ['createdBy', 'updatedBy', 'name', 'designator', 'owner', 'subType', 'status', 'links', 'customAspects', 'decisionResults', 'parts', 'id', 'abbreviation']
[UPDATE DEBUG] Payload JSON: {
  "createdBy": "admin@sparksbm.com",
  "updatedBy": "admin@sparksbm.com",
  "name": "subtype",
  "designator": "PER-568",
  "owner": {
    "targetUri": "http://localhost:8070/units/4bd7d9c0-f939-4f01-adad-4324fbd059d9"
  },
  "subType": "PER_Person",
  "status": "NEW",
  "links": {},
  "customAspects": {},
  "decisionResults": {},
  "parts": [],
  "id": "81be0ca3-bc80-4701-a1b7-18630ce80406",
  "abbreviation": "PER_DataProtectionOfficer"
}
[UPDATE DEBUG] Response status: 200
[UPDATE DEBUG] Response: {"createdAt":"2026-01-29T14:52:22.656197Z","createdBy":"admin@sparksbm.com","updatedAt":"2026-01-29T14:52:28.495278554Z","updatedBy":"admin@sparksbm.com","name":"subtype","abbreviation":"PER_DataProtectionOfficer","designator":"PER-568","owner":{"displayName":"SparksBM","name":"SparksBM","id":"4bd7d
[UPDATE DEBUG] Sending PUT to: http://localhost:8070/domains/2df802d2-a564-4779-9d18-f6e9ed584890/persons/e2e015dd-c314-4d07-9323-95f4ca1dc961
[UPDATE DEBUG] Payload keys (13): ['createdBy', 'updatedBy', 'name', 'designator', 'owner', 'subType', 'status', 'links', 'customAspects', 'decisionResults', 'parts', 'id', 'abbreviation']
[UPDATE DEBUG] Payload JSON: {
  "createdBy": "admin@sparksbm.com",
  "updatedBy": "admin@sparksbm.com",
  "name": "subtype",
  "designator": "PER-569",
  "owner": {
    "targetUri": "http://localhost:8070/units/4bd7d9c0-f939-4f01-adad-4324fbd059d9"
  },
  "subType": "PER_Person",
  "status": "NEW",
  "links": {},
  "customAspects": {},
  "decisionResults": {},
  "parts": [],
  "id": "e2e015dd-c314-4d07-9323-95f4ca1dc961",
  "abbreviation": "PER_DataProtectionOfficer"
}
[UPDATE DEBUG] Response status: 200
[UPDATE DEBUG] Response: {"createdAt":"2026-01-29T14:52:22.780261Z","createdBy":"admin@sparksbm.com","updatedAt":"2026-01-29T14:52:28.620711740Z","updatedBy":"admin@sparksbm.com","name":"subtype","abbreviation":"PER_DataProtectionOfficer","designator":"PER-569","owner":{"displayName":"SparksBM","name":"SparksBM","id":"4bd7d
[UPDATE DEBUG] Sending PUT to: http://localhost:8070/domains/2df802d2-a564-4779-9d18-f6e9ed584890/persons/21ddd8fe-02fd-4b44-91c2-b970b4c667fa
[UPDATE DEBUG] Payload keys (13): ['createdBy', 'updatedBy', 'name', 'designator', 'owner', 'subType', 'status', 'links', 'customAspects', 'decisionResults', 'parts', 'id', 'abbreviation']
[UPDATE DEBUG] Payload JSON: {
  "createdBy": "admin@sparksbm.com",
  "updatedBy": "admin@sparksbm.com",
  "name": "subtype",
  "designator": "PER-572",
  "owner": {
    "targetUri": "http://localhost:8070/units/4bd7d9c0-f939-4f01-adad-4324fbd059d9"
  },
  "subType": "PER_Person",
  "status": "NEW",
  "links": {},
  "customAspects": {},
  "decisionResults": {},
  "parts": [],
  "id": "21ddd8fe-02fd-4b44-91c2-b970b4c667fa",
  "abbreviation": "PER_DataProtectionOfficer"
}
[UPDATE DEBUG] Response status: 200
[UPDATE DEBUG] Response: {"createdAt":"2026-01-29T14:52:23.181925Z","createdBy":"admin@sparksbm.com","updatedAt":"2026-01-29T14:52:28.741520643Z","updatedBy":"admin@sparksbm.com","name":"subtype","abbreviation":"PER_DataProtectionOfficer","designator":"PER-572","owner":{"displayName":"SparksBM","name":"SparksBM","id":"4bd7d
ğŸŒ‰ Executor returned: status=True, keys=['success', 'agent', 'result', 'executionId']
INFO:     127.0.0.1:33060 - "POST /api/agent/chat HTTP/1.1" 200 OK
ğŸŒ‰ AgentBridge.process() called with message: 'show me all persons and who are dop....'
ğŸŒ‰ fullMessage: 'show me all persons and who are dop....'
[DEBUG _shadowTestNewRouter] Routing message: show me all persons and who are dop.
[DEBUG _shadowTestNewRouter] Router returned: route=verinice_operation, handler=_handleVeriniceOp
ğŸŒ‰ Executor returned: status=True, keys=['success', 'agent', 'result', 'executionId']
INFO:     127.0.0.1:33076 - "POST /api/agent/chat HTTP/1.1" 200 OK
ğŸŒ‰ AgentBridge.process() called with message: 'link DPO with SCOPE-A...'
ğŸŒ‰ fullMessage: 'link DPO with SCOPE-A...'
[DEBUG _shadowTestNewRouter] Routing message: link DPO with SCOPE-A
[DEBUG _shadowTestNewRouter] Router returned: route=verinice_operation, handler=_handleVeriniceOp
[UPDATE DEBUG] Sending PUT to: http://localhost:8070/domains/2df802d2-a564-4779-9d18-f6e9ed584890/scopes/7ab8b2a3-c6f3-4078-83b5-731d60a2608a
[UPDATE DEBUG] Payload keys (14): ['createdBy', 'updatedBy', 'name', 'designator', 'owner', 'subType', 'status', 'links', 'customAspects', 'decisionResults', 'members', 'riskValues', 'controlImplementations', 'id']
[UPDATE DEBUG] Payload JSON: {
  "createdBy": "admin@sparksbm.com",
  "updatedBy": "admin@sparksbm.com",
  "name": "SCOPE-A",
  "designator": "SCP-700",
  "owner": {
    "targetUri": "http://localhost:8070/units/4bd7d9c0-f939-4f01-adad-4324fbd059d9"
  },
  "subType": "SCP_Scope",
  "status": "NEW",
  "links": {},
  "customAspects": {},
  "decisionResults": {},
  "members": [
    {
      "targetUri": "http://localhost:8070/persons/b7ac7170-ae9b-4ce6-b2a2-9271a562b03e",
      "id": "b7ac7170-ae9b-4ce6-b2a2-9271a562b03e"
    },
    {
      "targetUri": "http://localhost:8070/persons/165a9445-6460-459e-b16f-214141bd06fa",
      "id": "165a9445-6460-459e-b16f-214141bd06fa"
    },
    {
      "targetUri": "http://localhost:8070/persons/21ddd8fe-02fd-4b44-91c2-b970b4c667fa",
      "id": "21ddd8fe-02fd-4b44-91c2-b970b4c667fa"
    },
    {
      "targetUri": "http://localhost:8070/persons/81be0ca3-bc80-4701-a1b7-18630ce80406",
      "id": "81be0ca3-bc80-4701-a1b7-18630ce80406"
    },
    {
      "targetUri": "http://localh
[UPDATE DEBUG] Response status: 200
[UPDATE DEBUG] Response: {"createdAt":"2026-01-29T14:51:31.807370Z","createdBy":"admin@sparksbm.com","updatedAt":"2026-01-29T14:52:34.019703996Z","updatedBy":"admin@sparksbm.com","name":"SCOPE-A","designator":"SCP-700","owner":{"displayName":"SparksBM","name":"SparksBM","id":"4bd7d9c0-f939-4f01-adad-4324fbd059d9","targetUri
ğŸŒ‰ Executor returned: status=True, keys=['success', 'agent', 'result', 'executionId']
INFO:     127.0.0.1:37268 - "POST /api/agent/chat HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [844313]
